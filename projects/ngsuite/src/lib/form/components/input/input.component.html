<div class="wrapper">
  <div class="switch">
    @switch (type) {
      @case ('select') {
        <select
          class="input"
          [ngModel]="value"
          (ngModelChange)="onChange($event)"
          (focusin)="isFocused = true"
          (focusout)="isFocused = false"
        >
          <option [value]="entry.value" *ngFor="let entry of entries">{{ entry.label }}</option>
        </select>
      }

      @case ('textarea') {
        <textarea
          class="input"
          [autocomplete]="autocomplete"
          [ngModel]="value"
          (ngModelChange)="onChange($event)"
          (focusin)="isFocused = true"
          (focusout)="isFocused = false"
        ></textarea>
      }

      @default {
        <input
          class="input"
          *ngSwitchDefault
          [type]="type"
          [autocomplete]="autocomplete"
          [ngModel]="value"
          (ngModelChange)="onChange($event)"
          (focusin)="isFocused = true"
          (focusout)="isFocused = false"
        >
      }
    }
  </div>

  <ng-content></ng-content>

  @if (label) {
    <div #placeholder class="label" [ngClass]="{'active': isActive}">
      <span>{{ label }}</span>
    </div>
  }
</div>
